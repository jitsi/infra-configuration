---
- name: consul service file
  template: src="signal.json.j2" dest="/etc/consul.d/signal.json"

- name: consul service enablement
  systemd: name=consul state=started enabled=true
  ignore_errors: true

- name: consul signal state script
  copy: src="set-shard-state-consul.sh" dest="/usr/local/bin/set-shard-state-consul.sh" mode=0755 owner=root